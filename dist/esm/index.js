import*as i from"csv-stream";import{open as l}from"node:fs/promises";import*as c from"post-entity";import{removeStopwords as u}from"stopword";var a=process.argv[2]||"",w=parseInt(process.argv[3]||"5");if(a==="")throw new RangeError;var e={},d={delimiter:"	",endLine:`
`,columnOffset:0,escapeChar:'"',enclosedChar:'"'},h=i.createStream(d),n=`Using a list of words where the number after the comma is how frequently the word is used, critically summarize (without using any positive terminology) the personality, interests, fears, and hopes of the person using these words from the list (and account for frequency): 

`,y=/[^a-z\-]/g;async function g(){(await l(a,"r")).createReadStream().pipe(h).on("data",function(t){if(t.retweet!=="False"||t.language!=="en")return;let o=t.tweet.toLowerCase(),f=c.process(o).filter(r=>r.type==="text").map(r=>r.raw.trim());for(let r of f){let m=u(r.split(" "));for(let p of m){let s=p.trim().replace(y,"");s!==""&&(e[s]===void 0&&(e[s]=0),e[s]+=1)}}}).on("close",function(){let t=Object.keys(e);for(let o of t)e[o]<w||(n+=`${o}:${e[o]} `);console.log(n)})}g();
//# sourceMappingURL=index.js.map